    <!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Vitra – Herbal Medicine AI Hub</title>
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Full-height flex */
    html, body { height:100%; margin:0; }
    body {
      display:flex; font-family:'Montserrat',sans-serif;
      background:#fff; color:#1E2126; overflow:hidden;
    }
    a { text-decoration:none; color:inherit; }
    button { cursor:pointer; border:none; background:none; }

    /* Palette */
    :root {
      --accent: #8ECDF1;
      --bg: #FFFFFF;
      --card: #F5F7FA;
      --text: #1E2126;
      --muted: rgba(30,33,38,0.6);
    }

    /* Sidebar */
    #sidebar {
      width:220px; background:var(--bg);
      border-right:1px solid #E2E8F0;
      position:fixed; top:0; bottom:0; left:0;
      display:flex; flex-direction:column; z-index:100;
    }
    .brand {
      padding:1.5rem; font-size:1.4rem; font-weight:700;
      color:var(--accent);
    }
    nav a {
      display:flex; align-items:center; gap:.75rem;
      padding:.9rem 1.2rem; color:var(--text);
      transition:background .2s;
    }
    nav a.active, nav a:hover {
      background:var(--card);
    }
    nav i { width:24px; text-align:center; }

    /* Topbar */
    #topbar {
      position:fixed; top:0; left:220px; right:0; height:64px;
      background:var(--bg); border-bottom:1px solid #E2E8F0;
      display:flex; align-items:center; justify-content:flex-end;
      padding:0 2rem; z-index:90;
    }
    #topbar a { margin-left:2rem; font-weight:500; color:var(--text); }
    .account { font-size:1.3rem; color:var(--muted); margin-left:2rem; cursor:pointer; }

    /* Main scrollable */
    #main {
      position:absolute; top:64px; bottom:0; left:220px; right:0;
      overflow-y:auto; padding:2rem;
    }

    /* Section cards */
    .card {
      background:var(--card); border-radius:8px; padding:1rem;
      margin-bottom:1.5rem; transition:transform .2s;
    }
    .card:hover { transform:translateY(-4px); }
    .card h4 { margin-bottom:.5rem; }
    .small { color:var(--muted); font-size:.9rem; }

    /* Hero header */
    .hero {
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom:2rem;
    }
    .hero h1 {
      font-size:2rem; font-weight:600; margin-bottom:0.5rem;
    }
    .hero button {
      background:var(--accent); color:#000;
      padding:.75rem 1.5rem; border-radius:8px;
      font-weight:500; transition:background .2s;
    }
    .hero button:hover { background:#76bde0; }

    /* Section title */
    .section-title {
      font-size:1.4rem; font-weight:600; margin:2rem 0 1rem;
    }

    /* Grid utils */
    .grid-2 {
      display:grid; gap:1rem;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    }
    .grid-3 {
      display:grid; gap:1rem;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    }
    canvas.chart { width:100%!important; height:160px!important; }

    /* Camera widget */
    #camera-stream {
      width:100%; max-width:400px;
      border-radius:8px; background:#000;
    }
    #snap-btn {
      margin-top:.5rem;
      background:var(--accent); padding:.5rem 1rem;
      border-radius:4px; color:#000;
    }

    /* Blend builder */
    .blend-slider {
      width:100%; margin:0.5rem 0;
    }

    /* Chatbot */
    #herbChatBtn {
      position:fixed; bottom:20px; left:20px;
      background:var(--accent); border:none; padding:1rem;
      border-radius:50%; font-size:1.5rem; z-index:80;
      cursor:pointer;
    }
    .chat-modal {
      position:fixed; inset:0; background:rgba(0,0,0,0.5);
      display:none; align-items:center; justify-content:center; z-index:90;
    }
    .chat-box {
      background:var(--bg); padding:1rem; border-radius:8px;
      width:90%; max-width:400px;
    }
    .chat-box header {
      display:flex; justify-content:space-between; align-items:center;
      margin-bottom:.5rem;
    }
    .chat-box input {
      width:100%; padding:.5rem; border:1px solid #E2E8F0;
      border-radius:4px; margin-top:.5rem;
    }

  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <aside id="sidebar">
    <div class="brand"><i class="fas fa-medkit"></i> VITRA</div>
    <nav>
      <a href="dashboard.html"><i class="fas fa-home"></i>Dashboard</a>
      <a href="herbs.html" class="active"><i class="fas fa-seedling"></i>Herbs</a>
      <a href="mental.html"><i class="fas fa-brain"></i>Mental</a>
      <a href="diet.html"><i class="fas fa-utensils"></i>Diet</a>
      <a href="pharmacy.html"><i class="fas fa-pills"></i>E-Pharmacy</a>
      <a href="booking.html"><i class="fas fa-calendar-check"></i>Booking</a>
      <a href="profile.html"><i class="fas fa-user-circle"></i>Profile</a>
    </nav>
  </aside>

  <!-- TOPBAR -->
  <div id="topbar">
    <a href="services.html">Services</a>
    <a href="profile.html">Profile</a>
    <a href="#">Account</a>
    <i class="fas fa-user-circle account"></i>
  </div>

  <!-- MAIN CONTENT -->
  <div id="main">

    <!-- Hero -->
    <div class="hero">
      <div>
        <h1>Herbal Medicine</h1>
        <p class="small">AI‑powered herb identification, formulation & safety</p>
      </div>
      <img src="doctor.png" alt="Herbal illustration" style="height:100px; border-radius:8px;">
    </div>

    <!-- 1. Snap & Identify -->
    <div class="card">
      <h4><i class="fas fa-camera"></i> Snap & Identify</h4>
      <video id="camera-stream" autoplay></video><br>
      <button id="snap-btn"><i class="fas fa-camera-retro"></i> Capture</button>
      <p id="identify-result" class="small"></p>
    </div>

    <!-- 2. Phytochemical Profiling & Dosage -->
    <div class="card">
      <h4><i class="fas fa-flask"></i> Phytochemical Profiling & Dosage</h4>
      <label>Age: <input type="number" id="age" min="0" max="120" value="30"></label><br>
      <label>Weight (kg): <input type="number" id="weight" min="30" max="200" value="70"></label><br>
      <label>Genetics Profile:
        <select id="genetics">
          <option>Standard</option>
          <option>Fast Metabolizer</option>
          <option>Slow Metabolizer</option>
        </select>
      </label><br>
      <button id="calc-dose" style="margin-top:.5rem; background:var(--accent);padding:.5rem 1rem;border-radius:4px;color:#000;">
        Calculate Dosage
      </button>
      <p id="dosage-result" class="small"></p>
    </div>

    <!-- 3. Interaction Prediction -->
    <div class="card">
      <h4><i class="fas fa-exclamation-triangle"></i> Herb‑Drug Interaction</h4>
      <label>Existing Medications:<br>
        <input type="text" id="med-list" placeholder="e.g. Warfarin, Aspirin" style="width:100%;padding:.5rem;border:1px solid #E2E8F0;border-radius:4px;">
      </label><br>
      <button id="check-interaction" style="margin-top:.5rem; background:var(--accent);padding:.5rem 1rem;border-radius:4px;color:#000;">
        Check Safety
      </button>
      <p id="interaction-result" class="small"></p>
    </div>

    <!-- 4. Blend Builder -->
    <div class="card">
      <h4><i class="fas fa-cubes"></i> Blend Optimization</h4>
      <label>Anti‑Inflammatory: <input type="range" min="0" max="100" value="50" class="blend-slider" id="slider1"></label>
      <label>Antioxidant: <input type="range" min="0" max="100" value="50" class="blend-slider" id="slider2"></label>
      <label>Calming: <input type="range" min="0" max="100" value="50" class="blend-slider" id="slider3"></label>
      <button id="build-blend" style="margin-top:.5rem; background:var(--accent);padding:.5rem 1rem;border-radius:4px;color:#000;">
        Build My Blend
      </button>
      <p id="blend-result" class="small"></p>
    </div>

    <!-- 5. Harvest Forecast Chart -->
    <div class="card">
      <h4><i class="fas fa-seedling"></i> Harvest Forecast</h4>
      <canvas id="harvest-chart" class="chart"></canvas>
    </div>

    <!-- 6. Virtual Herbalist Chatbot -->
    <button id="herbChatBtn"><i class="fas fa-comment-medical"></i></button>
    <div class="chat-modal" id="chat-modal">
      <div class="chat-box">
        <header>
          Virtual Herbalist
          <i id="close-chat" class="fas fa-times" style="cursor:pointer;"></i>
        </header>
        <div id="chat-log" style="max-height:200px; overflow-y:auto; font-size:.9rem; color:var(--text); margin-bottom:.5rem;">
          <p class="small"><em>Ask me about any herb…</em></p>
        </div>
        <input id="chat-input" placeholder="Type your question…" />
      </div>
    </div>

    <!-- 7. Outcomes Monitoring Chart -->
    <div class="card">
      <h4><i class="fas fa-chart-line"></i> Outcome Tracking</h4>
      <canvas id="outcome-chart" class="chart"></canvas>
    </div>

  </div>

  <script>
    // 1. Camera setup & identify stub
    const video = document.getElementById('camera-stream');
    navigator.mediaDevices.getUserMedia({ video:true }).then(s=> video.srcObject=s);
    document.getElementById('snap-btn').onclick = ()=>{
      // stub: pretend we ran a model
      document.getElementById('identify-result').textContent =
        "Identified: Echinacea purpurea (95% confidence)";
    };

    // 2. Dosage calc stub
    document.getElementById('calc-dose').onclick = ()=>{
      const age=+ageField.value, wt=+weight.value;
      const mg = Math.round((wt*0.5) + (age*0.1));
      document.getElementById('dosage-result').textContent =
        `Recommended dose: ${mg} mg per day`;
    };

    // 3. Interaction stub
    document.getElementById('check-interaction').onclick = ()=>{
      const meds = document.getElementById('med-list').value.toLowerCase();
      document.getElementById('interaction-result').textContent =
        meds.includes('warfarin')
          ? "⚠️ Potential interaction with Warfarin: risk of bleeding."
          : "No known major interactions detected.";
    };

    // 4. Blend optimization stub
    document.getElementById('build-blend').onclick = ()=>{
      const a=+slider1.value, b=+slider2.value, c=+slider3.value;
      document.getElementById('blend-result').textContent =
        `Your blend: ${Math.round(a/10)}% anti‑inflam, ${Math.round(b/10)}% antioxidant, ${Math.round(c/10)}% calming.`;
    };

    // 5. Harvest forecast chart
    new Chart(document.getElementById('harvest-chart'), {
      type:'line',
      data:{
        labels:['Jan','Feb','Mar','Apr','May','Jun','Jul'],
        datasets:[{
          label:'Active Compound (%)',
          data:[12,18,24,32,38,45,50],
          borderColor:'var(--accent)', fill:false
        }]
      },
      options:{ plugins:{ legend:{ display:false }} }
    });

    // 6. Chatbot stub
    const chatBtn = document.getElementById('herbChatBtn'),
          chatModal = document.getElementById('chat-modal'),
          closeChat = document.getElementById('close-chat'),
          chatLog = document.getElementById('chat-log'),
          chatIn = document.getElementById('chat-input');
    chatBtn.onclick = ()=> chatModal.style.display='flex';
    closeChat.onclick = ()=> chatModal.style.display='none';
    chatIn.onkeydown = e=>{
      if(e.key==='Enter' && chatIn.value.trim()){
        const q = chatIn.value.trim();
        const pUser = document.createElement('p');
        pUser.innerHTML = `<strong>You:</strong> ${q}`;
        chatLog.append(pUser);
        // stub response
        const pBot = document.createElement('p');
        pBot.innerHTML = `<strong>Herbalist:</strong> ${ q.toLowerCase().includes('insomnia')
          ? 'Chamomile is gentle and effective for mild insomnia. Try 300 mg before bed.'
          : 'I’m here to help! Ask me about dosage, identification, or safety.'}`;
        chatLog.append(pBot);
        chatLog.scrollTop = chatLog.scrollHeight;
        chatIn.value = '';
      }
    };

    // 7. Outcome tracking chart
    new Chart(document.getElementById('outcome-chart'), {
      type:'bar',
      data:{
        labels:['Week 1','Week 2','Week 3','Week 4'],
        datasets:[{
          label:'Symptom Relief (%)',
          data:[20,40,65,80],
          backgroundColor:'var(--accent)'
        }]
      },
      options:{ scales:{ y:{ beginAtZero:true, max:100 }}}
    });
  </script>
</body>
</html>
