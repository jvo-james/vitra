<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Vitra – Herbal Medicine AI Hub</title>
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* RESET & BASE */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}
    body{display:flex;height:100vh;overflow:hidden;background:#0D1117;color:#E0E0E0;transition:background .3s;}
    a{color:inherit;text-decoration:none;}button,cite,input,select,textarea{font-family:inherit;}
    button{cursor:pointer;border:none;background:none;color:inherit;}
    :root{--accent:#8ECDF1;--bg1:#161B22;--bg2:#1E2126;--muted:rgba(224,224,224,0.6);--radius:8px;}
    /* SIDEBAR */
    #sidebar{width:240px;background:var(--bg1);display:flex;flex-direction:column;transition:width .3s;}
    .brand{display:flex;align-items:center;gap:.75rem;padding:1.5rem;font-size:1.3rem;font-weight:700;color:var(--accent);}
    .nav-links{flex:1;}
    .nav-links a{display:flex;align-items:center;gap:1rem;padding:.9rem 1.2rem;transition:background .2s;}
    .nav-links a:hover,.nav-links a.active{background:var(--accent)20;}
    .nav-links i{width:24px;text-align:center;font-size:1.2rem;color:var(--accent);}
    .toggle-sidebar{padding:1rem;text-align:center;border-top:1px solid #29303A;cursor:pointer;}
    /* MAIN */
    #main{flex:1;display:flex;flex-direction:column;}
    header{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;
      background:var(--bg1)CC;backdrop-filter:blur(6px);position:sticky;top:0;z-index:10;}
    .header-left{display:flex;align-items:center;gap:1rem;}
    #toggleSidebarBtn{font-size:1.4rem;cursor:pointer;}
    .greeting h1{font-size:1.9rem;display:flex;align-items:center;gap:.5rem;}
    .greeting p{opacity:.75;}
    .header-right i{margin-left:1rem;font-size:1.4rem;cursor:pointer;transition:transform .2s;}
    .header-right i:hover{transform:scale(1.2);}
    .content{padding:1rem 2rem;overflow-y:auto;flex:1;}
    /* STAT CARDS */
    .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.5rem;margin-bottom:1.5rem;}
    .stat-card{background:var(--bg2);border-radius:var(--radius);padding:1rem;display:flex;align-items:center;gap:1rem;
      transition:transform .2s,box-shadow .2s;}
    .stat-card:hover{transform:translateY(-4px);box-shadow:0 4px 12px rgba(0,0,0,0.5);}
    .stat-card i{font-size:1.8rem;color:var(--accent);}
    .stat-card .details h3{font-size:1.1rem;margin-bottom:.3rem;}
    .stat-card .details p{opacity:.8;color:var(--accent);}
    /* MODULES */
    .module{background:var(--bg2);border-radius:var(--radius);padding:1rem;margin-bottom:1.5rem;transition:box-shadow .2s;}
    .module:hover{box-shadow:0 4px 12px rgba(0,0,0,0.5);}
    .module h3{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:1rem;}
    .module input,.module select,.module textarea{width:100%;background:var(--bg1);border:1px solid #29303A;
      padding:.5rem;border-radius:var(--radius);color:inherit;transition:border-color .2s;margin-bottom:.5rem;}
    .module input:focus,.module select:focus,.module textarea:focus{border-color:var(--accent);outline:none;}
    .module button{background:var(--accent);color:#0D1117;padding:.5rem 1rem;border-radius:var(--radius);
      transition:background .2s;}
    .module button:hover{background:var(--accent)CC;}
    .small{font-size:.9rem;color:var(--muted);margin-top:.5rem;}
    /* CHART */
    .chart-box{background:var(--bg2);border-radius:var(--radius);padding:1rem;margin-bottom:1.5rem;}
    .chart-box canvas{width:100%!important;height:180px!important;}
  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <aside id="sidebar">
    <div class="brand"><i class="fas fa-medkit"></i>Vitra</div>
    <nav class="nav-links">
      <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i>Dashboard</a>
      <a href="herbs.html" class="active"><i class="fas fa-seedling"></i>Herbal AI</a>
      <a href="mental.html"><i class="fas fa-brain"></i>Mental Health</a>
      <a href="diet.html"><i class="fas fa-utensils"></i>Diet</a>
      <a href="pharmacy.html"><i class="fas fa-pills"></i>E-Pharmacy</a>
      <a href="booking.html"><i class="fas fa-calendar-check"></i>Booking</a>
      <a href="settings.html"><i class="fas fa-cog"></i>Settings</a>
    </nav>
    <div class="toggle-sidebar"><i class="fas fa-arrow-circle-left"></i></div>
  </aside>

  <!-- MAIN -->
  <div id="main">
    <header>
      <div class="header-left">
        <i id="toggleSidebarBtn" class="fas fa-bars"></i>
        <div class="greeting">
          <h1><i class="fas fa-seedling"></i>Herbal AI Hub</h1>
          <p>Powerful AI features for herbal medicine</p>
        </div>
      </div>
      <div class="header-right">
        <i class="fas fa-bell"></i><i class="fas fa-user-circle"></i><i id="themeToggle" class="fas fa-moon"></i>
      </div>
    </header>

    <div class="content">

      <!-- Stats -->
      <div class="stats">
        <div class="stat-card"><i class="fas fa-stethoscope"></i>
          <div class="details"><h3>Diagnostics</h3><p id="stat-dx">0</p></div>
        </div>
        <div class="stat-card"><i class="fas fa-user-shield"></i>
          <div class="details"><h3>Formulations</h3><p id="stat-form">0</p></div>
        </div>
        <div class="stat-card"><i class="fas fa-search"></i>
          <div class="details"><h3>ID Requests</h3><p id="stat-id">0</p></div>
        </div>
        <div class="stat-card"><i class="fas fa-chart-pie"></i>
          <div class="details"><h3>Efficacy</h3><p id="stat-pred">0</p></div>
        </div>
      </div>

      <!-- 1. AI-Powered Diagnostic Tools -->
      <div class="module">
        <h3><i class="fas fa-stethoscope"></i>AI Diagnostic Tool</h3>
        <textarea id="dxInput" placeholder="Describe symptoms, history, lab results..."></textarea>
        <button id="runDiagnostics"><i class="fas fa-notes-medical"></i> Analyze</button>
        <p id="dxResult" class="small">Enter patient info to get herbal suggestions.</p>
      </div>

      <!-- 2. Personalized Herbal Formulations -->
      <div class="module">
        <h3><i class="fas fa-user-shield"></i>Personalized Formulation</h3>
        <select id="pfHerbs" multiple>
          <option>Ginkgo Biloba</option><option>Turmeric</option><option>Valerian</option>
          <option>Ashwagandha</option><option>Echinacea</option>
        </select>
        <input type="number" id="pfAge" placeholder="Age">
        <input type="number" id="pfWeight" placeholder="Weight (kg)">
        <button id="makePersonalized"><i class="fas fa-cog"></i> Generate</button>
        <p id="pfResult" class="small">Provide data to receive a custom formula.</p>
      </div>

      <!-- 3. AI-Driven Ingredient Identification -->
      <div class="module">
        <h3><i class="fas fa-leaf"></i>Ingredient Identification</h3>
        <input type="file" id="ingUpload" accept="image/*">
        <button id="identifyIngredient"><i class="fas fa-microscope"></i> Identify</button>
        <p id="ingResult" class="small">Upload to verify species & detect contaminants.</p>
      </div>

      <!-- 4. Predictive Analysis for Efficacy -->
      <div class="module">
        <h3><i class="fas fa-chart-pie"></i>Predictive Efficacy</h3>
        <input id="predInput" placeholder="e.g. Turmeric arthritis">
        <button id="runPrediction"><i class="fas fa-brain"></i> Predict</button>
        <p id="predResult" class="small">Enter herb & condition to get score.</p>
      </div>

      <!-- 5. AI-Enhanced Education Chatbot -->
      <div class="module">
        <h3><i class="fas fa-graduation-cap"></i>Education Chatbot</h3>
        <div id="chatBox"></div>
        <div style="display:flex;gap:.5rem;">
          <input id="chatInput" placeholder="Ask about herbal medicine...">
          <button id="sendChat"><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>

      <!-- Existing: AI Identification -->
      <div class="module">
        <h3><i class="fas fa-camera"></i>AI Herb Identification</h3>
        <input type="file" id="herbUpload" accept="image/*">
        <button id="identifyBtn"><i class="fas fa-search"></i> Identify</button>
        <p id="identifyResult" class="small">Upload an image to identify the herb.</p>
      </div>

      <!-- Existing: Dosage Calculator -->
      <div class="module">
        <h3><i class="fas fa-calculator"></i>Dosage Calculator</h3>
        <input type="number" id="weight" placeholder="Weight (kg)">
        <input type="text" id="symptom" placeholder="Symptom (e.g. headache)">
        <button id="calcDosage"><i class="fas fa-check"></i> Calculate</button>
        <p id="dosageResult" class="small"></p>
      </div>

      <!-- Existing: Interaction Checker -->
      <div class="module">
        <h3><i class="fas fa-exchange-alt"></i>Interaction Checker</h3>
        <select id="herbA">
          <option>Ginkgo Biloba</option><option>Turmeric</option><option>St. John’s Wort</option>
        </select>
        <select id="herbB">
          <option>Ginkgo Biloba</option><option>Turmeric</option><option>St. John’s Wort</option>
        </select>
        <button id="checkInteraction"><i class="fas fa-search"></i> Check</button>
        <p id="interactionResult" class="small"></p>
      </div>

      <!-- Existing: Encyclopedia -->
      <div class="module">
        <h3><i class="fas fa-book"></i>Herb Encyclopedia</h3>
        <input id="searchHerb" placeholder="Search herbs…">
        <table>
          <thead><tr><th>Name</th><th>Use</th><th>Category</th></tr></thead>
          <tbody id="herbTable">
            <tr><td>Ginkgo Biloba</td><td>Memory</td><td>Leaf</td></tr>
            <tr><td>Turmeric</td><td>Inflammation</td><td>Root</td></tr>
            <tr><td>St. John’s Wort</td><td>Mood</td><td>Flower</td></tr>
          </tbody>
        </table>
      </div>

      <!-- Existing: Trending Herbs Chart -->
      <div class="chart-box">
        <h4><i class="fas fa-chart-line"></i>Trending Herbs</h4>
        <canvas id="trendingChart"></canvas>
      </div>

    </div>
  </div>

  <script>
    // Sidebar & theme toggle
    const sb=document.getElementById('sidebar'),
          tb=document.querySelector('.toggle-sidebar'),
          tbtn=document.getElementById('toggleSidebarBtn'),
          themeBtn=document.getElementById('themeToggle');
    [tb,tbtn].forEach(e=>e.onclick=()=>sb.classList.toggle('collapsed'));
    themeBtn.onclick=()=>{document.documentElement.classList.toggle('light');themeBtn.classList.toggle('fa-sun');};

    // Stats init
    ['dx','form','id','pred'].forEach(k=>{
      if(!localStorage.getItem(k)) localStorage.setItem(k,'0');
      document.getElementById(`stat-${k}`).textContent = localStorage.getItem(k);
    });

    // 1. Diagnostics
    document.getElementById('runDiagnostics').onclick=()=>{
      const c=+localStorage.getItem('dx')+1;
      localStorage.setItem('dx',c);
      document.getElementById('stat-dx').textContent=c;
      document.getElementById('dxResult').textContent='🏷️ Suggestion: Turmeric 500mg daily + Boswellia.';
    };

    // 2. Personalized Formulations
    document.getElementById('makePersonalized').onclick=e=>{
      e.preventDefault();
      const herbs=[...document.getElementById('pfHerbs').selectedOptions].map(o=>o.value),
            age=document.getElementById('pfAge')?.value||'30',
            w=document.getElementById('pfWeight')?.value||'70',
            c=+localStorage.getItem('form')+1;
      localStorage.setItem('form',c);
      document.getElementById('stat-form').textContent=c;
      document.getElementById('pfResult').textContent=`🧪 Custom formula for ${age}yr/${w}kg: ${herbs.join(', ')}.`;
    };

    // 3. Ingredient Identification
    document.getElementById('identifyIngredient').onclick=()=>{
      document.getElementById('ingResult').textContent='✅ Verified: Ginkgo Biloba (98% purity).';
    };

    // 4. Predictive Efficacy
    document.getElementById('runPrediction').onclick=()=>{
      const c=+localStorage.getItem('pred')+1;
      localStorage.setItem('pred',c);
      document.getElementById('stat-pred').textContent=c;
      document.getElementById('predResult').textContent='📊 Efficacy: 87% predicted relief.';
    };

    // 5. Education Chatbot
    const chatBox=document.getElementById('chatBox');
    document.getElementById('sendChat').onclick=()=>{
      const q=document.getElementById('chatInput').value.trim();
      if(!q) return;
      chatBox.innerHTML+=`<p><strong>You:</strong> ${q}</p>`;
      document.getElementById('chatInput').value='';
      setTimeout(()=>{
        chatBox.innerHTML+=`<p><strong>Vitra AI:</strong> Here’s an overview on ${q}…</p>`;
        chatBox.scrollTop=chatBox.scrollHeight;
      },500);
    };

    // Existing stubs: AI Identification, Dosage, Interaction, Encyclopedia, Chart
    document.getElementById('identifyBtn').onclick=()=>{
      const c=+localStorage.getItem('id')+1; localStorage.setItem('id',c);
      document.getElementById('stat-id').textContent=c;
      document.getElementById('identifyResult').textContent='🏷️ Identified: Turmeric.';
    };
    document.getElementById('calcDosage').onclick=e=>{
      e.preventDefault();
      const w=+document.getElementById('weight').value||70, d=(w*0.5).toFixed(1),
            c=+localStorage.getItem('dose')+1; localStorage.setItem('dose',c);
      document.getElementById('stat-dose').textContent=c;
      document.getElementById('dosageResult').textContent=`Suggested: ${d} mg`;
    };
    document.getElementById('checkInteraction').onclick=e=>{
      e.preventDefault();
      const a=document.getElementById('herbA').value, b=document.getElementById('herbB').value,
            c=+localStorage.getItem('int')+1; localStorage.setItem('int',c);
      document.getElementById('stat-int').textContent=c;
      document.getElementById('interactionResult').textContent=a===b?'Same herb – no interaction.':`No known interaction between ${a} & ${b}.`;
    };
    document.getElementById('searchHerb').oninput=e=>{
      const q=e.target.value.toLowerCase();
      document.querySelectorAll('#herbTable tr').forEach(tr=>
        tr.style.display=tr.textContent.toLowerCase().includes(q)?'':'none'
      );
    };
    new Chart(document.getElementById('trendingChart'), {
      type:'bar', data:{labels:['Turmeric','Ginkgo','Echinacea','Valerian','Ashwagandha'],
        datasets:[{data:[120,95,85,70,65],backgroundColor:'var(--accent)'}]},options:{plugins:{legend:{display:false}}}
    });
  </script>
</body>
</html>
